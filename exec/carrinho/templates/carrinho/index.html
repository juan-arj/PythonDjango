{% extends "global/base_carrinho.html" %}
{% block main %}
<main>
    <div class="checkout-container">
        <h2>Finalizar Compra</h2>

        <!-- Resumo do Pedido -->
        <section class="pedido">
            <h3>Resumo do Pedido</h3>
            <figcaption class="produto">
                <img src="/static/global/image/iphone_16_promax.jpg" alt="iPhone 16 Pro Max 256">
                <article class="detalhes">
                    <p>iPhone 16 Pro Max Apple 256GB, Câmera Tripla de 48MP, Tela 6,9",
                        Titânio-Deserto</p>
                    <p>R$ 9.199,00</p>
                </article>
            </figcaption>
            
            <hr>
            <article class="total">
                <p><strong>Total:</strong> R$ 9.199,00</p>
            </article>
        </section>
        <div class="container my-5">
            <!-- <h2 class="text-center mb-4">Finalizar Compra</h2> -->
            <div class="row">
                <div class="col-md-6">
                    <h4>Detalhes de Cobrança</h4>
                    <form method="post" action="{% url 'gravarCompra' %}">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="nome" class="form-label">Nome Completo</label>
                            <input type="text" name="nome" id="nome" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">E-mail</label>
                            <input type="email" name="email" id="email" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="endereco" class="form-label">Endereço</label>
                            <input type="text" name="endereco" id="endereco" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="cidade" class="form-label">Cidade</label>
                            <input type="text" name="cidade" id="cidade" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="cep" class="form-label">CEP</label>
                            <input type="text" name="cep" id="cep" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="numero" class="form-label">Número do Cartão</label>
                            <input type="text" name="numero" id="numero" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="cartao" class="form-label">Nome no Cartão</label>
                            <input type="text" name="cartao" id="cartao" class="form-control" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="validade" class="form-label">Validade</label>
                                <input type="text" name="validade" id="validade" class="form-control" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="cvv" class="form-label">CVV</label>
                                <input type="text" name="cvv" id="cvv" class="form-control" required>
                            </div>
                        </div>
                        <input type="submit" class="btn btn-outline-success" value="Finalizar compra">
                    </form>
                </div>
                <div class="col-md-6">
                    {% comment %} <h4>Pagamento</h4> {% endcomment %}
                    {% comment %} <form method="post" action="{% url 'gravarCompra' %}"> {% endcomment %}
                        
                    {% comment %} </form> {% endcomment %}
                    <div id="alerta"></div>
                    
                </div>
            </div>
        </div>
    </div>
</main>

    {% comment %} function verificarDados() {
        var cartao = document.getElementById("numero").value;
        var cvv = document.getElementById("cvv").value;


        if (cartao === "" || cvv === "") {
            document.getElementById("alerta").innerHTML =
                '<div class="alert alert-warning" role="alert">Por favor, preencha todos os campos!</div>';
        } else {
            document.getElementById("alerta").innerHTML =
                '<div class="alert alert-success" role="alert">Pedido realizado com sucesso!</div>';
            //window.location.href = "index.html"; // Redireciona para a página index.html
        } 
    } {% endcomment %}
{% endblock main %}